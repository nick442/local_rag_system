In almost any jurisdiction, the restaurant will pay tax on the amount after the discount. Discounting is just a selective way to reduce prices for particular clients and thus achieve some degree of price discrimination. It's no different in principle to cutting prices for everyone or having a sale or similar. It would be very strange for a tax jurisdiction to work any other way, because businesses would end up being taxed on money they never actually got. While tax systems often have that kind of anomaly in rare cases at the edge of the system, discounting via vouchers is extremely common. For example, here are the rules in the UK.