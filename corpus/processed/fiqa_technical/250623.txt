Assuming you purchased shares that were granted at a discount under the ESPP the 50% exemption would not apply. It's pretty unusual to see a US parent company ESPP qualify for the 110(1)(d) exemption, as most US plans provide for a discount