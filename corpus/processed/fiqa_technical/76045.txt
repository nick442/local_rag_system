VAT is charged to consumers and passed on to the Government. Income tax is paid by the employees. Corporate tax on income is the true tax on corporate value add, which isn't reflected in this practice. That being said, there is nothing unique or illegal to what Starbucks is doing, pretty much all global corporations have entities setup for the exclusive purpose of licensing IP/brands. The entity just needs to demonstrate an arm's length in transactions.