I've never seen a dividend, split or other corporate action during the day, but I have seen trade suspended a few times when something big happened. The market opening price is not in general the same as the close of the previous day. It can gap up or down and does frequently. I don't know of an api to find out if the dividend was cash or stock, but stock dividends are a lot less common.