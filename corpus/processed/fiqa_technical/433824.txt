There are different strategies but the short version is that they set it up so the US corporation pays a legal entity in a low-tax jurisdiction for the rights to use the IP which the company has transferred there previously. One such strategy is called the [Double Irish (possibly with a Dutch Sandwich)](http://en.wikipedia.org/wiki/Double_Irish_arrangement) which is what Apple, Google, Facebook and many others use.