It is absolutely legal. While studying on a F-1 you would typically be considered a non-resident alien for tax purposes. You can trade stocks, just like any other foreigner having an account with a US- or non-US based brokerage firm. Make sure to account for profit made on dividends/capital gain when doing your US taxes. A software package provided by your university for doing taxes might not be adequate for this.