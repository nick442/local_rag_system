"You don't ""deduct"" transaction fees, but they are included in your cost basis and proceeds, which will affect the amount of gain/loss you report. So in your example, the cost basis for each of the two lots is $15 (10$ share price plus $5 broker fee). Your proceeds for each lot are $27.50 (($30*2 - $5 )/2). Your gain on each lot is therefore $12.50, and you will report $12.50 in STCG and $12.50 in LTCG in the year you sold the stock (year 3). As to the other fees, in general yes they are deductible, but there are limits and exceptions, so you would need to consult a tax professional to get a correct answer in your specific situation."