How hard would it be to say that a company cannot pay licensing fees to a company that it owns an X% stake in (and/or owns an X% stake of it, to cover subsidiary to parent movement? . Alternatively, such transactions could be taxed as if they were a purchase between the two companies, and taxed as such. The percentage could be set high enough so as to not discourage joint ventures, but low enough to force a company to sacrifice a major chunk of the money to another unowned company if they try to abuse it.