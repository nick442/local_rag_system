I disagree that it's double taxation because it's too different entities with different responsibilities and requirements from citizens. Even if you insist it's double taxation, the alternatives, such as the federal government relying on state governments for revenue or states manipulating taxes to coerce federal government, are much worse outcomes.