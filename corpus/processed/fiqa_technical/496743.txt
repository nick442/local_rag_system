Great effort on the question. All I can advise is: If paypal does not provide the mapping table (Type, Status, Credit/Debit) you will have to build it up yourself as you go along. I would tackle it this way: Your SQL mapping table has Credit/Debit entries for all knows combinations and the Credit/Debit entry would be -1 for all. Then, as you get a list of transactions you will have to display all possible results to the user who will then tick the correct one (comparing it to the balance). You would store the Credit/Debit entry if it is unique. This way you will learn what the possible combinations are over time. Its a to the nth problem, so maybe start with a small number of transactions first. I expect you can build up pretty quickly. It will be an interesting experiment..