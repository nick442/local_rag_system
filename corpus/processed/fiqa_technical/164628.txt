This answer assumes that your purpose for using the ESPP is to generate a relatively safe 15% return on that portion of your income. Frequently before there were Roth 401K options the advice was: This advice was especially good for the younger workers because they wanted to have a Roth account but didn't want to miss the 401K match. As Roth 401K accounts were introduced that advice changed somewhat because it was possible to get the benefit of the Roth and still get the maximum match. for your situation what I would propose is: contribute to the 401K enough to get the maximum match. Contribute as much as you want or are allowed into the ESPP. Take the proceeds and contribute to an IRA or Roth IRA. If you reach the IRA max you have to decide if you will scale back the ESPP to contribute more to the 401K.