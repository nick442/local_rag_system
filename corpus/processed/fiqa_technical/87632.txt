I work for a very large company and had a similar situation where I got threatened with my life and when I attempted to quit they wouldn't allow it. I contacted HR, and they didn't do anything. It got to the point of lawyering up to develop a lawsuit; however, filing a lawsuit would make it impossible to find another job. Best thing to do, find another job. Leave on a high note, and do whatever it takes to avoid them. If you get contacted on why, explain and leave professionally.