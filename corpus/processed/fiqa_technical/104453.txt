To sum up: My question came from misunderstanding what cost basis applies to. Now I get it that it applies to stocks as physical entities. Consider a chain of buys of 40 stock A with prices $1-$4-$10-$15 (qty 10 each time) then IRS wants to know exactly which stock I am selling. And when I transfer stocks to different account, that cost basis transfers with them. Cost basis is included in transfers, so that removes ambiguity which stock is being sold on the original account. In the example above, cost basis of 20 stocks moved to a new account would probably be $1 x 10 and $4 x 10, i.e. FIFO also applies to transfers.