They can only do that because Coinbase interfaces with fiat currency. As more transactions and holding become denominated in crypto, it will be more difficult for them to tax (if you are using an unlinkable crypto). If I pay someone with Monero or most coins, then the government won't know who was involved in the transaction.