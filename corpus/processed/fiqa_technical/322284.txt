"You have to calculate the total value of all shares and then ask yourself ""Would I invest that amount of money in this stock?"" If the answer is yes, then only sell what you need to sell. Take the $3k loss against your income, if you have no other gains. If you would not invest that amount of cash in that stock, then sell it all right now and carry forward the excess loss every year. Note at any point you have capital gains you can offset all of them with your loss carryover (not just $3k)."